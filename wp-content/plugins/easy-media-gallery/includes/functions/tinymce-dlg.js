jQuery(document).ready(function(e){function r(e){var t={action:"emg_load_media_list",taxo:e};jQuery.post(ajaxurl,t,function(e){jQuery("#emgtinymce_select_sing_media").html(e)});return true}var t;var n;jQuery("#listcustomgallery").multiselect({multiple:true,header:"Select Gallery",noneSelectedText:"Select Gallery",selectedList:1,header:true});jQuery("#emgtinymce_select_method").multiselect({multiple:false,header:"Order Media by",noneSelectedText:"Select an Option",selectedList:1,header:false});jQuery("#emgtinymce_select_cat").multiselect({multiple:false,header:"Choose a category",noneSelectedText:"Select Category",selectedList:1,header:false});jQuery("#emgtinymce_select_sing_media").multiselect({multiple:true,header:"Choose Media",noneSelectedText:"Select Media",selectedList:1,header:true});jQuery("#select_custom_col").multiselect({multiple:false,header:"Select Columns",noneSelectedText:"Select Columns",selectedList:1,header:false});jQuery("#select_cus_align").multiselect({multiple:false,header:"Select Align",noneSelectedText:"Select Align",selectedList:1,header:false});jQuery("#select_cus_style").multiselect({multiple:false,header:"Select Style",noneSelectedText:"Select Style",selectedList:1,header:false});jQuery("#emgtinymce_select_method").multiselect({click:function(){jQuery("#emgtinymce_select_sing_media").multiselect("uncheckAll");jQuery("#emgtinymce_select_cat").multiselect("uncheckAll");jQuery("#listcustomgallery").multiselect("uncheckAll")}});jQuery("body").delegate("#add_emg_shortcode_button","click",function(){mg_H=300;mg_W=580;setTimeout(function(){tb_show("Easy Media Shortcode","#TB_inline?height="+mg_H+"&width="+mg_W+"&inlineId=modal");jQuery("#TB_window").css("height",mg_H);jQuery("#TB_window").css("width",mg_W);jQuery("#TB_window").css("top",(jQuery(window).height()-mg_H)/6+"px");jQuery("#TB_window").css("left",(jQuery(window).width()-mg_W)/4+"px");jQuery("#TB_window").css("margin-top",(jQuery(window).height()-mg_H)/6+"px");jQuery("#TB_window").css("margin-left",(jQuery(window).width()-mg_W)/4+"px");jQuery("#TB_window").css("height","auto");jQuery("#TB_ajaxContent").css("height","auto");jQuery("#emgtinymce_select_cat_div").hide();jQuery("#emgtinymce_select_sing_media_div").hide();jQuery("#emgtinymce_select_method").val("Select");jQuery("#emgtinymce_select_method").multiselect("refresh");jQuery("#select_custom_col").val("Select");jQuery("#select_custom_col").multiselect("refresh");jQuery("#select_cus_align").val("Select");jQuery("#select_cus_align").multiselect("refresh");jQuery("#emgtinymce_custom_columns").prop("checked",false);jQuery("#customcolumns").hide("slow");jQuery("#custom_col_div span.switch").find(".background").animate({left:"-49px"},200);jQuery("#emgtinymce_custom_sz").prop("checked",false);jQuery("#mediacustomsize").hide("slow");jQuery("#custom_size_div span.switch").find(".background").animate({left:"-49px"},200);jQuery("#emgtinymce_custom_align").prop("checked",false);jQuery("#customalign").hide("slow");jQuery("#mediacustomstyle").hide("slow");jQuery("#custom_align_div span.switch").find(".background").animate({left:"-49px"},200);jQuery("#emgtinymce_custom_columns").prop("checked",false);jQuery("#emgtinymce_select_sing_media_div span.switch").find(".background").animate({left:"-49px"},200);jQuery("#emgtinymce_mark_asgallery").prop("checked",false);jQuery("#custom_style_div span.switch").find(".background").animate({left:"-49px"},200);jQuery("#emgtinymce_custom_style").prop("checked",false);jQuery("#listcustomgallery").multiselect("uncheckAll");jQuery("#emgtinymce_cus_width").val("");jQuery("#emgtinymce_cus_height").val("");jQuery("#defgallery").prop("checked",true);jQuery(".setaspro").prop("disabled",true);jQuery("#thisgallresult").text("");jQuery("#thisresult").text("");jQuery("#horizontalTab").responsiveTabs({active:0,rotate:false,startCollapsed:"accordion",collapsible:"accordion",setHash:false,animation:"slide",activate:function(e,n){jQuery("#thisgallresult").text("");jQuery("#thisresult").text("");if(n.id==0){t="gallery"}else{t="others"}}})},300)});jQuery(window).resize(function(){if(jQuery("#tinyform").is(":visible")){jQuery("#tinyform").parent().parent().css("height",mg_H);jQuery("#tinyform").parent().parent().css("width",mg_W);jQuery("#tinyform").parent().parent().css("top",(jQuery(window).height()-mg_H)/6+"px");jQuery("#tinyform").parent().parent().css("left",(jQuery(window).width()-mg_W)/4+"px");jQuery("#tinyform").parent().parent().css("margin-top",(jQuery(window).height()-mg_H)/6+"px");jQuery("#tinyform").parent().parent().css("margin-left",(jQuery(window).width()-mg_W)/4+"px")}});jQuery("#emgtinymce_select_cat_div").hide();jQuery("#emgtinymce_select_sing_media_div").hide();jQuery("#emgtinymce_select_method").change(function(){var e=document.getElementById("emgtinymce_select_method").selectedIndex;if(e=="1"){jQuery("#emgtinymce_select_cat_div").slideDown("slow");jQuery("#emgtinymce_select_sing_media_div").slideUp("slow")}else if(e=="2"){jQuery("#emgtinymce_select_cat_div").slideUp("slow");jQuery("#emgtinymce_select_sing_media_div").slideDown("slow")}else{jQuery("#emgtinymce_select_cat_div").slideUp("fast");jQuery("#emgtinymce_select_sing_media_div").slideUp("fast")}});jQuery("#emgtinymce_select_method").change();jQuery(function(){jQuery("#emgtinymce_select_sing_media").multiselect({close:function(e){var t=jQuery("#emgtinymce_select_sing_media").multiselect("getChecked").map(function(){return this.value}).get().toString();jQuery("#thisresult").text(t)}})});jQuery(function(){jQuery("#listcustomgallery").multiselect({close:function(e){var t=jQuery("#listcustomgallery").multiselect("getChecked").map(function(){return this.value}).get().toString();jQuery("#thisgallresult").text(t)}})});jQuery("#emg_insert_scrt").on("click",function(){n=document.getElementById("emgtinymce_select_method").selectedIndex;if(t=="others"){if(document.getElementById("emgtinymce_select_method").selectedIndex!="0"){var e;var r;if(jQuery("#emgtinymce_custom_columns").is(":checked")&&document.getElementById("#select_custom_col").selectedIndex!="0"){e=' col="'+jQuery("#select_custom_col").val()+'"'}else{jQuery("#customcolumns").hide("slow");e=""}if(jQuery("#emgtinymce_custom_align").is(":checked")&&document.getElementById("select_cus_align").selectedIndex!="0"){r=' align="'+jQuery("#select_cus_align").val().toLowerCase()+'"'}else{jQuery("#customalign").hide("slow");r=""}var i=jQuery("#emgtinymce_select_cat").val();var s='[easy-media cat="'+i+'"'+e+r+"]";var o=jQuery("#thisresult").text();var u='[easy-media med="'+o+'"'+e+r+"]";if(n=="1"&&i!="default"){if(jQuery("#wp-content-editor-container > textarea").is(":visible")){var a=jQuery("#wp-content-editor-container > textarea").val()+s;jQuery("#wp-content-editor-container > textarea").val(a)}else{tinyMCE.activeEditor.execCommand("mceInsertContent",0,s)}}else if(n=="2"&&o!=""){if(jQuery("#wp-content-editor-container > textarea").is(":visible")){var a=jQuery("#wp-content-editor-container > textarea").val()+u;jQuery("#wp-content-editor-container > textarea").val(a)}else{tinyMCE.activeEditor.execCommand("mceInsertContent",0,u)}}tb_remove()}else{tb_remove()}}else if(t=="gallery"&&jQuery("#thisgallresult").text()!=""){var f='[easymedia-gallery med="'+jQuery("#thisgallresult").text()+'" filter="1"]';if(jQuery("#wp-content-editor-container > textarea").is(":visible")){var a=jQuery("#wp-content-editor-container > textarea").val()+f;jQuery("#wp-content-editor-container > textarea").val(a)}else{tinyMCE.activeEditor.execCommand("mceInsertContent",0,f)}tb_remove()}else{tb_remove()}})})